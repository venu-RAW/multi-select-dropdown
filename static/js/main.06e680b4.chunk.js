(this["webpackJsonpmulti-select-dropdown"]=this["webpackJsonpmulti-select-dropdown"]||[]).push([[0],{1:function(e,t,a){e.exports={dropdown:"DropDown_dropdown__1KvCw",control:"DropDown_control__13mWO",selectedValue:"DropDown_selectedValue__27qhd",selectedValuesContainer:"DropDown_selectedValuesContainer__1c148",top:"DropDown_top__SOmQz",topInside:"DropDown_topInside__2xsWc",bottom:"DropDown_bottom__YJcPp",value:"DropDown_value__1mzqH",prompt:"DropDown_prompt__h1XT7",arrow:"DropDown_arrow__7Kzhz",options:"DropDown_options__sQqlv",option:"DropDown_option__1959D",selectAll:"DropDown_selectAll__16l-R",border:"DropDown_border__2IT5J",indicator:"DropDown_indicator__3os8Y",isSelected:"DropDown_isSelected__1CFHT",noResult:"DropDown_noResult__1VoLw"}},27:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(20),c=a.n(n),r=(a(27),a(11)),o=a.n(r),l=a(4),i=a(21),u=a(5),d=a(6),p=a(8),h=a(7),j=a(22),f=a.n(j),b=a(9),m=a.n(b),v=a(0),_=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={searchInput:""},e.handleChange=function(t){var a=t.target.value;e.setState({searchInput:a},(function(){e.props.query(a)})),e.searchResult(a)},e.searchResult=function(t){var a=[],s=e.props,n=s.searchData,c=s.searchKeys,r=s.displayKey,o=s.resultList;if(!t.length)return o(n);c.forEach((function(e){if(e===r)return a=n.filter((function(a){return a[e].toLowerCase().includes(t.toLowerCase())})),o(a);console.error("Keys are not same")}))},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.input,t=e.value.length;e.focus(),e.setSelectionRange(t,t)}},{key:"render",value:function(){var e=this,t=this.props,a=t.placeholder,s=t.alignIcon;return Object(v.jsxs)("div",{className:"".concat(m.a.searchBar," ").concat(m.a[s]),children:[Object(v.jsx)("input",{type:"text",autoFocus:!0,className:m.a.searchInput,value:this.state.searchInput,placeholder:a,onChange:this.handleChange,ref:function(t){return e.input=t}}),Object(v.jsx)("div",{className:m.a.searchBtn,children:Object(v.jsx)("i",{className:"fas fa-search"})})]})}}]),a}(s.Component);_.defaultProps={placeholder:"Search",alignIcon:"right"};var O=_,w=a(1),D=a.n(w),x=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={query:"",showDropDown:!1,selectedValue:[],resultArray:[],selectAll:!1},e.toggle=function(){var t=e.state.showDropDown;e.setState({showDropDown:!t})},e.resultList=function(t){e.setState({resultArray:Object(l.a)(t)})},e.selectSingleOption=function(t){var a=e.state.selectedValue,s=e.props,n=s.result,c=s.multiSelect,r=a;c?!c||a.some((function(e){return e.id===t.id}))?(r=r.filter((function(e){return e!==t})),(0===a.length||a.length-1)&&e.setState({selectAll:!1}),e.setState({selectedValue:Object(l.a)(r)},(function(){return n(e.state.selectedValue)}))):e.setState({selectedValue:[].concat(Object(l.a)(a),[t])},(function(){n(e.state.selectedValue),e.toggleSelectAll()})):e.setState({selectedValue:[t]},(function(){return n(e.state.selectedValue)}))},e.selectAll=function(){var t=e.state.selectAll,a=e.props,s=a.result,n=a.multiSelect,c=a.data;n&&e.setState({selectAll:!t},(function(){e.state.selectAll?e.setState({selectedValue:Object(l.a)(c)},(function(){return s(e.state.selectedValue)})):e.setState({selectedValue:[]},(function(){return s(e.state.selectedValue)}))}))},e.toggleSelectAll=function(){var t=e.state.selectedValue;e.props.data.length===t.length&&e.setState({selectAll:!0})},e.removeValue=function(t){var a=e.state.selectedValue,s=e.props.result,n=a.filter((function(e){return e!==t}));e.setState({selectedValue:n},(function(){s(e.state.selectedValue)}))},e.noResultArray=function(){return!e.state.query.length},e.noResult=function(){var t=e.props.displayKey,a=e.state.resultArray.some((function(a){return e.state.query!==a[t]}));return!a&&!e.state.query.length||(!!a||void 0)},e.closeDropDown=function(t){"dropdown"!==t.currentTarget.id||t.currentTarget.contains(t.relatedTarget)||e.setState({showDropDown:!1})},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.showDropDown,s=t.selectedValue,n=t.resultArray,c=t.selectAll,r=this.props,o=r.data,l=r.searchKeys,i=r.prompt,u=r.displayKey,d=r.multiSelect,p=n.length?n:o;return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{id:"dropdown","data-test":"dropdown",className:D.a.dropdown,tabIndex:0,onKeyPress:function(){return e.setState({showDropDown:!0})},onBlur:this.closeDropDown,children:[Object(v.jsxs)("div",{tabIndex:0,"data-test":"control",className:D.a.control,children:[Object(v.jsx)("div",{className:D.a.selectedValue,children:d?s.length||c?Object(v.jsxs)("div",{className:D.a.selectedValuesContainer,children:[Object(v.jsx)("div",{className:D.a.top,children:Object(v.jsx)("div",{className:D.a.topInside,children:s.map((function(t){return Object(v.jsxs)("div",{className:D.a.value,tabIndex:0,children:[Object(v.jsx)("span",{children:t[u]}),Object(v.jsx)("button",{onClick:function(){e.removeValue(t)},children:Object(v.jsx)("i",{className:"fas fa-times"})})]},t.id)}))})}),Object(v.jsx)("div",{className:D.a.bottom,children:Object(v.jsx)("button",{onClick:function(){e.setState({selectAll:!1,selectedValue:[]})},children:Object(v.jsx)("i",{className:"fas fa-times"})})})]}):Object(v.jsx)("div",{className:D.a.prompt,children:Object(v.jsx)("span",{children:i})}):Object(v.jsx)("p",{children:s.length?s[0][u]:i})}),Object(v.jsx)("div",{className:D.a.arrow,onClick:this.toggle,children:Object(v.jsx)("i",{"data-test":"icon",className:"fas fa-caret-".concat(a?"up":"down")})})]}),a&&Object(v.jsxs)("div",{className:D.a.options,tabIndex:0,children:[Object(v.jsx)(O,{searchData:o,displayKey:u,searchKeys:l,resultList:this.resultList,query:function(t){return e.setState({query:t})},alignIcon:"left"}),this.noResult()?Object(v.jsxs)(v.Fragment,{children:[d&&this.noResultArray()&&Object(v.jsxs)("div",{onClick:this.selectAll,className:D.a.selectAll,children:[Object(v.jsx)("div",{className:D.a.border,children:Object(v.jsx)("div",{className:"".concat(D.a.indicator," ").concat(D.a[this.state.selectAll?"isSelected":""])})}),Object(v.jsx)("p",{children:"Select All"})]}),p.map((function(t){return Object(v.jsxs)("div",{tabIndex:0,"data-test":"option",onKeyPress:function(a){"Enter"===a.key&&(e.selectSingleOption(t),e.setState({showDropDown:!1}))},onClick:function(){var a=e.props.multiSelect;e.selectSingleOption(t),a||e.toggle()},className:"".concat(D.a.option," "),children:[Object(v.jsx)("div",{className:D.a.border,children:Object(v.jsx)("div",{className:"".concat(D.a.indicator," ").concat(D.a[e.state.selectedValue.some((function(e){return e===t}))?"isSelected":""])})}),t[u]]},t.id)}))]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:D.a.noResult,children:"No results"})})]})]})})}}]),a}(s.Component);x.defaultProps={prompt:"Select",multiSelect:!1};var g=x,y="https://venu-raw.github.io/personsMockData/mockData.json",S=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={data:[]},e.componentDidMount=Object(i.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f()(y);case 3:(a=t.sent)&&e.setState({data:Object(l.a)(a.data)}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])}))),e.showResult=function(e){console.log("Result: ",e)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this.state.data;return Object(v.jsx)(g,{data:e,displayKey:"firstName",searchKeys:["firstName"],result:this.showResult,multiSelect:!0})}}]),a}(s.Component);c.a.render(Object(v.jsx)(S,{}),document.getElementById("root"))},9:function(e,t,a){e.exports={left:"SearchBar_left__1km4l",searchBar:"SearchBar_searchBar__1hWdk",searchInput:"SearchBar_searchInput__3c1Ob",searchBtn:"SearchBar_searchBtn__jrPCs"}}},[[48,1,2]]]);
//# sourceMappingURL=main.06e680b4.chunk.js.map